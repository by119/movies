<ion-content class="bgwhite">
  <div class="transheader"> <img src="./assets/imgs/background/login-banner.png" />
    <ion-header>
      <ion-navbar>
      </ion-navbar>
    </ion-header>
  </div>
  <form [formGroup]="pageForm">
    <div class="input-container">
      <ion-list>
        <ion-item>
          <ion-input type="tel" formControlName="tel" placeholder="输入手机号"></ion-input>
        </ion-item>
        <ion-item class="tip" *ngIf="pageForm.controls.tel.touched && !pageForm.controls.tel.valid">
            <ion-note color="primary">请正确输入手机号</ion-note>
        </ion-item>
        <ion-item>
          <ion-input type="number" formControlName="captcha" placeholder="短信验证码"></ion-input>
          <button ion-button clear item-end class="link" (click)="captcha($event)">获取验证码</button>
        </ion-item>
        <ion-item>
          <ion-input type="password"  formControlName="pwd" placeholder="新密码"></ion-input>
        </ion-item>
        <ion-item class="tip" *ngIf="pageForm.controls.pwd.touched && !pageForm.controls.pwd.valid">
            <ion-note color="primary">请输入至少6位密码</ion-note>
        </ion-item>
        <ion-item>
          <ion-input type="password"  formControlName="confirm_pwd" placeholder="确认密码"></ion-input>
        </ion-item>
        <ion-item class="tip" *ngIf="pageForm.controls.confirm_pwd.touched && pageForm.hasError('mismatchedPasswords') && pageForm.controls.pwd.valid">
            <ion-note color="primary">两次输入密码不一致</ion-note>
        </ion-item>
      </ion-list>
    </div>
    <div class="btn-container">
      <p>
        <button ion-button block round [disabled]="!pageForm.valid" (click)="sub(pageForm.value)">提 交</button>
      </p>
    </div>
  </form>
</ion-content>
